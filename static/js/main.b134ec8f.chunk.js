(this.webpackJsonpvtbtest=this.webpackJsonpvtbtest||[]).push([[0],{42:function(e){e.exports=JSON.parse('[{"id":1,"name":"Superman","description":"Superman was born on the planet Krypton and was given the name Kal-El at birth. As a baby, his parents sent him to Earth in a small spaceship moments before Krypton was destroyed in a natural cataclysm. Superman has superhuman strength and a highly durable body, invulnerable for most practical purposes. At the very least, bullets bounce harmlessly off his body. Not even a nuclear bomb can harm him."},{"id":2,"name":"Spider-Man","description":"A bite from a radioactive spider triggers mutations in Peter Parker\'s body, granting him superpowers. Spider-Man has had the ability to cling to walls. Spider-Man\'s other powers include significantly superhuman strength, a precognitive sixth sense famously referred to as his \\"spider-sense\\" or \\"spidey-sense\\" that alerts him to danger, perfect balance and equilibrium, as well as superhuman speed and agility."},{"id":3,"name":"Batman","description":"Batman\'s secret identity is Bruce Wayne, a wealthy American playboy, philanthropist, and owner of Wayne Enterprises. Batman originated from an incident in Bruce\'s childhood; after witnessing the murder of his parents Dr. Thomas Wayne and Martha Wayne, he swore vengeance against criminals, an oath tempered by a sense of justice. Bruce trains himself physically and intellectually and crafts a bat-inspired persona to fight crime."},{"id":4,"name":"Wolverine","description":"Wolverine is a mutant with a number of both natural and artificial improvements to his physiology. His primary mutant power is an accelerated healing process, typically referred to as his mutant healing factor, that regenerates damaged or destroyed tissues of his body far beyond the capabilities of an ordinary human. In addition to accelerated healing of physical traumas, Wolverine\'s healing factor makes him extraordinarily resistant to diseases, drugs, and toxins."}]')},44:function(e,t,n){e.exports=n(57)},57:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),i=n.n(o),c=n(13),s=n(4),l=n(18);var u=Object(r.memo)((function(e){var t=e.name,n=e.description,r=e.id;return a.a.createElement("li",null,a.a.createElement("dl",null,a.a.createElement("dt",null,a.a.createElement("strong",null,t,":")," ",n),a.a.createElement("dd",null,a.a.createElement(s.b,{to:"/update/"+r},"Edit")," | ",a.a.createElement(s.b,{to:"/delete/"+r},"Delete"))))}));var d=Object(r.memo)((function(e){var t=e.heroes;return a.a.createElement("ol",null,t.map((function(e){return a.a.createElement(u,Object.assign({key:e.id},e))})))}));var m=Object(r.memo)((function(e){var t=e.heroes,n=e.isLoading,r=e.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"List of aviable heroes"),n?a.a.createElement("p",null,"Heroes is loading..."):a.a.createElement(d,{heroes:t}),r&&a.a.createElement("p",null,"Something goes wrong"),a.a.createElement(s.b,{to:"/create/"},"Create a new hero"))})),h=Object(c.b)((function(e){return{heroes:e.heroes.items,isLoading:e.heroes.isLoading,error:e.heroes.error}}))(m),p=n(11),f=n(31);function g(e){var t=e.onSubmit,n=e.btnText,o=e.inputName,i=e.inputDescription,c=e.isLoading,s=e.error,l=Object(r.useState)(o),u=Object(f.a)(l,2),d=u[0],m=u[1],h=Object(r.useState)(i),p=Object(f.a)(h,2),g=p[0],b=p[1],E=Object(r.useState)(!1),v=Object(f.a)(E,2),y=v[0],O=v[1];return Object(r.useEffect)((function(){o!==d||i!==g?O(!0):o===d&&i===g&&O(!1)}),[o,d,g,i]),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({name:d,description:g})}},a.a.createElement("dl",null,a.a.createElement("dt",null,a.a.createElement("label",{htmlFor:"name"},"Hero name:")),a.a.createElement("dd",null,a.a.createElement("input",{type:"text",id:"name",value:d,onChange:function(e){return m(e.target.value)}})),a.a.createElement("dt",null,a.a.createElement("label",{htmlFor:"description"},"Description of hero:")),a.a.createElement("dd",null,a.a.createElement("textarea",{cols:"70",rows:"10",id:"description",value:g,onChange:function(e){return b(e.target.value)}})),a.a.createElement("dd",null,a.a.createElement("input",{type:"submit",value:n,disabled:c})," ",c&&a.a.createElement("span",null,"Your hero is saving..."),y&&!c&&a.a.createElement("b",null,"Your changes are not save"),s&&a.a.createElement("p",null,"Something goes wrong. Try again later. "))))}g.defaultProps={btnText:"Submit",inputName:"",inputDescription:""};var b=Object(r.memo)(g);var E=Object(r.memo)((function(e){var t=e.onCreateHero,n=e.isLoading,r=e.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Create a new hero"),a.a.createElement(b,{onSubmit:t,btnText:"Create hero",isLoading:n,error:r}),a.a.createElement(s.b,{to:"/"},"Back to the list of heroes"))})),v=n(5),y=n(16),O=n.n(y),H=n(58),j="heroes",w=Object(H.a)({REQUEST_HEROES:function(){return{}},RECEIVE_HEROES:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{heroes:e,isLoading:t,error:n}},ADDING_HERO:function(){return{}},ADD_HERO:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{hero:e,isLoading:t,error:n}},CHANGING_HERO:function(){return{}},CHANGE_HERO:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{hero:e,isLoading:t,error:n}},REMOVING_HERO:function(){return{}},REMOVE_HERO:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{id:e,isLoading:t,error:n}}}),x=w.requestHeroes,S=w.receiveHeroes,L=w.addingHero,D=w.addHero,k=w.changingHero,A=w.changeHero,C=w.removingHero,N=w.removeHero;function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,a){var o,i,c;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.HeroApi,i=a.localStorage,s.prev=1,n(L()),s.next=5,O.a.awrap(o.postHero(e));case 5:c=s.sent,n(D(c)),R(i,r),t&&t(c),s.next=15;break;case 11:s.prev=11,s.t0=s.catch(1),console.error(s.t0),n(D(null,!1,s.t0));case 15:case"end":return s.stop()}}),null,null,[[1,11]])}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,a){var o,i,c;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.HeroApi,i=a.localStorage,s.prev=1,n(k()),s.next=5,O.a.awrap(o.putHero(e));case 5:c=s.sent,n(A(c)),R(i,r),t&&t(c),s.next=15;break;case 11:s.prev=11,s.t0=s.catch(1),console.error(s.t0),n(A(null,!1,s.t0));case 15:case"end":return s.stop()}}),null,null,[[1,11]])}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,a){var o,i,c;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.HeroApi,i=a.localStorage,s.prev=1,n(C()),s.next=5,O.a.awrap(o.deleteHero(e));case 5:c=s.sent,n(N(c)),R(i,r),t&&t(e),s.next=15;break;case 11:s.prev=11,s.t0=s.catch(1),console.error(s.t0),n(N(null,!1,s.t0));case 15:case"end":return s.stop()}}),null,null,[[1,11]])}}function R(e,t){e.setItem(j,JSON.stringify(t().heroes.items))}var B=Object(c.b)((function(e,t){return{history:t.history,isLoading:e.heroes.isLoading,error:e.heroes.error}}),(function(e){return Object(v.b)({createHero:_},e)}),(function(e,t){return Object(p.a)({},e,{},t,{onCreateHero:function(n){t.createHero(n,(function(t){return e.history.push("/update/"+t.id)}))}})}))(E);var P=Object(r.memo)((function(e){var t=e.hero,n=e.onUpdateHero,r=e.isLoading,o=e.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Update the hero ",a.a.createElement("b",null,t&&t.name)),t?a.a.createElement(b,{onSubmit:n,inputName:t.name,inputDescription:t.description,btnText:"Update hero",isLoading:r,error:o}):a.a.createElement("p",null,"Hero is loading..."),a.a.createElement(s.b,{to:"/"},"Back to the list of heroes"))})),M=Object(c.b)((function(e,t){var n=parseInt(t.match.params.id);return{id:n,hero:e.heroes.items.find((function(e){return e.id===n})),isLoading:e.heroes.isLoading,error:e.heroes.error}}),(function(e){return Object(v.b)({updateHero:T},e)}),(function(e,t){return Object(p.a)({},e,{},t,{onUpdateHero:function(n){t.updateHero(Object(p.a)({},n,{id:e.id}))}})}))(P);var W,F=Object(r.memo)((function(e){var t=e.hero,n=e.onDeleteHero,r=e.onCancelDeleteHero,o=e.isLoading,i=e.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Delete the hero ",a.a.createElement("strong",null,t&&t.name)),t?a.a.createElement("p",null,a.a.createElement("span",null,"Are you sure what you want to delete the hero"," ",a.a.createElement("strong",null,t.name),"?")," ",a.a.createElement("button",{id:"cancel",onClick:r},"No")," ",a.a.createElement("button",{id:"delete",onClick:n},"Yes!")," ",o&&a.a.createElement("span",null,"Hero is deleting...")):a.a.createElement("p",null,"Hero is loading"),i&&a.a.createElement("p",null,"Something goes wrong. Try again later. "),a.a.createElement(s.b,{to:"/"},"Back to the list of heroes"))})),U=Object(c.b)((function(e,t){var n=parseInt(t.match.params.id);return{history:t.history,id:n,hero:e.heroes.items.find((function(e){return e.id===n})),isLoading:e.heroes.isLoading,error:e.heroes.error}}),(function(e){return Object(v.b)({deleteHero:I},e)}),(function(e,t){return Object(p.a)({},e,{},t,{onCancelDeleteHero:function(t){e.history.push("/")},onDeleteHero:function(n){t.deleteHero(e.id,(function(){return e.history.push("/")}))}})}))(F),G=n(41),J=n(19),V=n(22),K=n(59),Y=n(60),q=Object(K.a)((W={},Object(J.a)(W,Object(Y.a)(x,L,k,C),(function(e){return Object(p.a)({},e,{isLoading:!0,isError:!1})})),Object(J.a)(W,S,(function(e,t){var n=t.payload;return{items:n.heroes,isLoading:n.isLoading,error:n.error}})),Object(J.a)(W,D,(function(e,t){var n=t.payload,r=n.hero,a=n.isLoading,o=n.error;return{items:[].concat(Object(V.a)(e.items),[r]),isLoading:a,error:o}})),Object(J.a)(W,A,(function(e,t){var n=t.payload,r=n.hero,a=n.isLoading,o=n.error,i=e.items.findIndex((function(e){return e.id===r.id}));return{items:[].concat(Object(V.a)(e.items.slice(0,i)),[r],Object(V.a)(e.items.slice(i+1))),isLoading:a,error:o}})),Object(J.a)(W,N,(function(e,t){var n=t.payload,r=n.id,a=n.isLoading,o=n.error,i=e.items.findIndex((function(e){return e.id===r}));return{items:[].concat(Object(V.a)(e.items.slice(0,i)),Object(V.a)(e.items.slice(i+1))),isLoading:a,error:o}})),W),{items:[],isLoading:!1,error:!1}),X=n(42),Q={getHeroes:function(){return new Promise((function(e,t){return setTimeout((function(){return e(X)}),2e3)}))},postHero:function(e){var t=Object(p.a)({id:(new Date).valueOf()},e);return new Promise((function(e,n){return setTimeout((function(){return e(t)}),2e3)}))},putHero:function(e){return new Promise((function(t,n){return setTimeout((function(){return t(e)}),2e3)}))},deleteHero:function(e){return new Promise((function(t,n){return setTimeout((function(){return t(e)}),2e3)}))}},z=Object(v.c)({heroes:q}),Z=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.d)(Object(v.a)(G.a.withExtraArgument({HeroApi:Q,localStorage:localStorage})));var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(v.e)(z,e,Z)}();$.dispatch((function(e,t,n){var r,a,o,i;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=n.HeroApi,a=n.localStorage,c.prev=1,null!==(o=JSON.parse(a.getItem(j)))){c.next=5;break}throw new Error;case 5:e(S(o)),c.next=23;break;case 8:return c.prev=8,c.t0=c.catch(1),c.prev=10,e(x()),c.next=14,O.a.awrap(r.getHeroes());case 14:i=c.sent,e(S(i)),R(a,t),c.next=23;break;case 19:c.prev=19,c.t1=c.catch(10),console.error(c.t1),e(S(null,!1,c.t1));case 23:case"end":return c.stop()}}),null,null,[[1,8],[10,19]])}));var ee=function(){return a.a.createElement(c.a,{store:$},a.a.createElement(s.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{exact:!0,path:"/",component:h}),a.a.createElement(l.a,{exact:!0,path:"/create",component:B}),a.a.createElement(l.a,{exact:!0,path:"/update/:id",component:M}),a.a.createElement(l.a,{exact:!0,path:"/delete/:id",component:U}))))};i.a.render(a.a.createElement(ee,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.b134ec8f.chunk.js.map